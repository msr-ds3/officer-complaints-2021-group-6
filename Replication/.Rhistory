source('data_wrangling/02_clean_nyc_data.R')
source('data_wrangling/05_clean_chicago_data.R')
source('data_wrangling/08_clean_philly_data.R')
nyc_incidents %>%
ggplot(aes(x = decile_rank, y = num_complaints_in_this_decile / sum(num_complaints_in_this_decile))) +
geom_bar(stat = "identity", aes(fill = decile_rank == 10)) +
theme(legend.position = "none") +
scale_x_continuous("Decile Rank", breaks = pretty_breaks(10)) +
scale_y_continuous("% of Complaints", labels = percent) +
labs(title = "NYC Complaints")
# plot the output
chicago_incidents %>%
ggplot(aes(x = decile_rank, y = total_complaints/sum(total_complaints))) +
geom_bar(stat = 'identity', aes(fill = decile_rank == 10)) +
scale_y_continuous("% of complaints", labels = percent) +
scale_x_continuous("Decile Rank", breaks = 1:10) +
theme(legend.position = "none") +
labs(title = "Chicago Complaints")
philly_incidents %>%
ggplot(aes(x = decile_rank, y = num_complaints_in_this_decile / sum(num_complaints_in_this_decile))) +
geom_bar(stat = "identity", aes(color = decile_rank == 10, fill = decile_rank == 10)) +
theme(legend.position = "none") +
scale_x_continuous("Decile Rank", breaks = pretty_breaks(10)) +
scale_y_continuous("% of Complaints", labels = percent, limits = c(0, 0.3)) +
labs(title = "Philadelphia Complaints")
